{"mappings":"AAKA,MAEMA,EAAYC,SAASC,cAAc,eACnCC,EAAcF,SAASC,cAAc,iBACrCE,EAAcH,SAASC,cAAc,iBAmB3CF,EAAUK,iBAAiB,SAE3B,SAAuBC,GAEnB,IAAIC,EAAaD,EAAME,OAAOC,MAAMC,OAEpC,IAAIH,EAGA,OAFAJ,EAAYQ,UAAY,QACxBP,EAAYO,UAAY,KAvBRC,EA2BLL,EAxBRM,MAAM,uCAAaD,oDAAuDE,MAAKC,IAElF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,YAG7B,OAAOH,EAASI,MAAM,KAkBCL,MAAKM,IAsBlB,IAAWC,EArBrBC,QAAQC,IAAIH,GAETA,EAAaI,OAAS,IAErBF,QAAQC,IAAI,QAGZH,EAAaI,QAAU,GAAKJ,EAAaI,QAAU,KAclCH,EAZGD,EAa5BjB,EAAYQ,UAAYU,EAAII,KAAI,EAAEC,OAAOC,IAACA,GAAMf,MAAMgB,SAACA,MACnD,+BACgBD,WAAaC,oCACnBA,0BAEhBC,KAAK,IAjBKzB,EAAYO,UAAY,IAGA,IAAxBS,EAAaI,UAiBN,SAAYH,GAC3BjB,EAAYO,UAAYU,EAAII,KAAI,EAAEC,OAAOC,IAACA,GAAMf,MAAKgB,SAACA,GAASE,QAAEA,EAAOC,WAAEA,EAAUC,UAAEA,KACtF,aAAaL,WAAaC,6BAClBA,iEAGEE,gFAIAC,+EAIAE,OAAOC,OAAOF,GAAWH,KAAK,6BAE1CA,KAAK,G,CAhCKM,CAAsBf,GACtBjB,EAAYQ,UAAY,G,IA3CvB,IAAWC,C","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n// import fetchCountries from \"./fetchCountries\";\n// import debounce from 'lodash.debounce';\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst searchBox = document.querySelector('#search-box');\nconst countryList = document.querySelector('.country-list');\nconst countryInfo = document.querySelector('.country-info');\n\n\n// Запит на бекенд fetch\nfunction fetchCountries(name) {\n    const API_URL = 'https://restcountries.com/v3.1/name/';\n\n    return fetch(`${API_URL}${name}?fields=name,capital,population,flags,languages`).then(response => {\n        \n        if (!response.ok) {\n            throw new Error(response.statusText);\n        }\n\n        return response.json();\n    });\n}\n\n// Пошук в input\n// debounce(onSearchInput, DEBOUNCE_DELAY) \nsearchBox.addEventListener('input', onSearchInput);\n\nfunction onSearchInput(event){ \n    \n    let inputValue = event.target.value.trim();\n    \n    if(!inputValue) {\n        countryList.innerHTML = '';\n        countryInfo.innerHTML = '';\n        return;\n    }\n\n    fetchCountries(inputValue).then(countryFetch => {\n        console.log(countryFetch);\n\n        if(countryFetch.length > 10){\n            // Notify.info();\n            console.log('info')\n        }\n\n        if (countryFetch.length >= 2 && countryFetch.length <= 10) {\n            // список країн\n            createCountryMarkUp(countryFetch);\n            countryInfo.innerHTML = '';\n        }\n\n        if (countryFetch.length === 1) {\n            createCountryMarUpAll(countryFetch);\n            countryList.innerHTML = '';\n        }\n    });\n};\n\n// верстка пошуку країн\nfunction createCountryMarkUp(arr) {\n    countryList.innerHTML = arr.map(({flags: {svg}, name: {official}}) => \n        `<li>\n            <img src=\"${svg}\" alt=\"${official}\" width=\"100\">\n            <h2>${official}</h2>\n        </li>`\n).join('')};\n\n//  верстка однієї країни\nfunction createCountryMarUpAll(arr) {\n    countryInfo.innerHTML = arr.map(({flags: {svg}, name:{official}, capital, population, languages}) => \n    `<img src=\"${svg}\" alt=\"${official}\" width=\"50\">\n    <span>${official}</span>\n    <div>\n      <span>Capital:</span>\n      <span>${capital}</span>\n    </div>\n    <div>\n      <span>Population:</span>\n      <span>${population}</span>\n    </div>\n    <div>\n      <span>Languages:</span>\n      <span>${Object.values(languages).join(', ')}</span>\n    </div>`\n).join('')};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// функция фетч возрощяет апи стран\n// function fetchCountries(name){\n//     const BASE_URL = 'https://restcountries.com/v3.1/name';\n//     const fields = '?fields=name,capital,population,flags,languages';\n\n//   return fetch(`${BASE_URL}${name}${fields}`)\n//     .then(response => {\n//         console.log(response);\n \n        \n//         if (!response.ok) {\n//             throw new Error(response.statusText);\n//         }\n\n//         return response.json();\n//     });\n// };\n\n// fetchCountries('peru');\n\n\n\n\n\n\n\n\n\n\n\n// // Создание верстки карточки страны\n// function cardCountry({name, capital, population, flags, languages}) {\n//     return `<ul>\n//                 <li>\n//                   <img src=\"${flags.svg}\" alt=\"${name.official}\">\n//                   <h2>${name.official}</h2>\n//                 </li>\n//                 <li>\n//                   <p>Capital:</p>\n//                   <p>${capital}</p>\n//                 </li>\n//                 <li>\n//                   <p>Population:</p>\n//                   <p>${population}</p>\n//                 </li>\n//                 <li>\n//                   <p>Languages:</p>\n//                   <p>${languages}</p>\n//                 </li>    \n//             </ul>`\n// };\n"],"names":["$1f0dc3b9307be026$var$searchBox","document","querySelector","$1f0dc3b9307be026$var$countryList","$1f0dc3b9307be026$var$countryInfo","addEventListener","event","inputValue","target","value","trim","innerHTML","name","fetch","then","response","ok","Error","statusText","json","countryFetch","arr","console","log","length","map","flags","svg","official","join","capital","population","languages","Object","values","$1f0dc3b9307be026$var$createCountryMarUpAll"],"version":3,"file":"index.8527b975.js.map"}